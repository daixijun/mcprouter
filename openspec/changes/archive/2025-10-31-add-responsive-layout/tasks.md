# 任务清单：增加响应式布局支持

## 任务顺序

### 1. 修改主应用容器布局

- [x] 修改 `src/App.tsx` 中的主容器布局
  - [x] 移除或调整 `max-w-7xl` 固定宽度限制
  - [x] 采用更灵活的布局策略，利用可用屏幕空间
  - [x] 保持适当的内边距（padding）以确保内容不贴边
  - [x] 验证在小窗口下的显示效果

### 2. 优化 Dashboard 统计卡片响应式布局

- [x] 修改 `src/pages/Dashboard.tsx` 中的统计卡片布局
  - [x] 实现基于断点的动态列数配置：
    - xl 及以上（≥1280px）：每行 5 列（span={4}）
    - lg（1024px-1279px）：每行 4 列（span={6}）
    - md（768px-1023px）：每行 2 列（span={12}）
    - sm（640px-767px）：单列（span={24}）
  - [x] 测试不同窗口大小下的显示效果
  - [x] 确保卡片内容保持可读性

### 3. 优化 Dashboard 信息卡片响应式布局

- [x] 修改系统信息卡片和聚合接口卡片的响应式布局
  - [x] lg 及以上（≥1024px）：并排显示，每列 span={12}
  - [x] md 及以下（<1024px）：垂直堆叠，每列 span={24}
  - [x] 验证在不同屏幕尺寸下的布局切换

### 4. 优化客户端配置代码区域

- [x] 修改 Dashboard 页面的客户端配置卡片
  - [x] 确保代码块区域充分利用可用宽度
  - [x] 在宽屏下显示更多列内容
  - [x] 在窄屏下保持可读性，通过滚动查看完整内容

### 5. 优化其他页面的响应式布局

- [x] 修改 `src/pages/McpServerManager.tsx`

  - [x] 检查表格的响应式配置
  - [x] 确保表格在小屏幕下的可用性

- [x] 修改 `src/pages/ApiKeys.tsx`

  - [x] 检查表格的响应式配置
  - [x] 优化权限选择器在小屏幕下的显示

- [x] 修改 `src/pages/Settings.tsx`
  - [x] 检查表单的响应式配置
  - [x] 确保标签和输入框在窄屏下的布局合理

- [x] 修改 `src/pages/Marketplace.tsx`
  - [x] 优化服务卡片的响应式布局
  - [x] xl 及以上：4 列布局，lg：3 列布局，md：2 列布局，sm 及以下：单列布局
  - [x] 验证不同屏幕尺寸下卡片显示效果

### 6. 优化 Layout.tsx Container 组件（可选）

- [x] 考虑增强 `src/components/Layout.tsx` 中的 Container 组件
  - [x] 增加响应式尺寸选项支持
  - [x] 提供更灵活的布局控制方式

### 7. 测试和验证

- [x] 在不同窗口尺寸下测试所有页面
  - [x] 测试极端情况（超宽屏、超窄屏）
  - [x] 验证响应式布局切换的平滑性
  - [x] 检查是否有布局溢出或内容截断问题
  - [x] 确保主题切换在不同布局下的正常工作
- [x] 性能测试
  - [x] 验证响应式布局不会引入明显的性能问题

### 8. 代码检查

- [x] 运行 `npx tsc --noEmit` 进行类型检查
- [x] 检查是否有 TypeScript 错误或警告
- [x] 确保代码符合项目规范

## 验收标准

1. **布局自适应**：应用在宽屏显示器（1920px+）下能充分利用屏幕空间，内容不再局限于狭窄区域
2. **响应式断点**：布局在 640px、768px、1024px、1280px、1536px 等断点下正确切换
3. **可读性保持**：所有文本和交互元素在各种屏幕尺寸下保持良好的可读性
4. **功能完整性**：所有现有功能在新的响应式布局下正常工作
5. **无视觉问题**：不存在布局溢出、内容截断或元素重叠等问题
6. **类型安全**：通过 TypeScript 类型检查，无类型错误

## 依赖关系

- 任务 1 是所有其他任务的基础，必须优先完成
- 任务 2、3、4 相互独立，可以并行进行
- 任务 5 可以在前面的任务完成后进行
- 任务 7 需要在所有修改完成后进行验证

## 风险和缓解策略

**风险 1**：修改主容器可能影响现有页面布局

- **缓解**：逐步修改，每步都进行测试，确保不影响现有功能

**风险 2**：响应式布局可能在某些极端屏幕尺寸下出现显示问题

- **缓解**：测试各种屏幕尺寸，包括超宽屏（2560px+）和窄屏（320px）

**风险 3**：表格在小屏幕下可能难以使用

- **缓解**：保持表格的水平滚动功能，确保内容始终可见
