# tasks.md

## 1. 界面重构准备

- [x] 1.1 分析当前 McpServerManager 组件的数据结构和状态管理
- [x] 1.2 确定表格列定义和数据映射关系
- [x] 1.3 选择合适的状态图标（连接、断开、错误、连接中等）

## 2. 移除 Header 区域

- [x] 2.1 删除页面标题 "MCP 服务管理" 和描述文本
- [x] 2.2 调整页面布局，移除 Header 占用的垂直空间
- [x] 2.3 确保 "添加服务" 按钮位置合适（移至筛选区域或工具栏）

## 3. 实现 Table 组件

- [x] 3.1 引入 Ant Design Table 组件
- [x] 3.2 定义表格列：服务名称、描述、协议、状态、版本、工具数量、操作
- [x] 3.3 实现数据源转换，将当前服务器数据适配为表格数据格式
- [x] 3.4 添加表格排序和筛选功能（可选）
- [x] 3.5 实现表格的分页或虚拟滚动（如果数据量大）

## 4. 重构状态筛选

- [x] 4.1 移除 Select 组件的状态筛选器
- [x] 4.2 使用 Space + Button 组件组合实现状态筛选
- [x] 4.3 为每个状态按钮添加合适的图标：
  - 全部：使用 `List` 图标
  - 已连接：使用 `CheckCircle` 图标（绿色）
  - 连接中：使用 `RotateCw` 图标（蓝色）
  - 已断开：使用 `XCircle` 图标（灰色）
  - 连接出错：使用 `AlertCircle` 图标（红色）
- [x] 4.4 实现按钮的紧凑布局和选中状态样式
- [x] 4.5 保持筛选逻辑与当前功能一致

## 5. 保留和调整其他功能

- [x] 5.1 保留搜索功能，调整布局适应新的界面结构
- [x] 5.2 保留刷新按钮功能
- [x] 5.3 确保所有操作按钮（编辑、删除、工具管理）在表格中正常工作
- [x] 5.4 保留所有模态框功能（添加服务、编辑服务、工具管理）

## 6. 样式和响应式优化

- [x] 6.1 调整整体布局，确保界面紧凑且美观
- [x] 6.2 优化表格在不同屏幕尺寸下的显示效果
- [x] 6.3 确保按钮和操作在小屏幕上仍然可用
- [x] 6.4 保持与整体应用的设计风格一致

## 7. 测试和验证

- [x] 7.1 测试表格的基本功能（排序、筛选、分页等）
- [x] 7.2 验证状态筛选按钮的交互逻辑
- [x] 7.3 测试所有 CRUD 操作（添加、编辑、删除服务器）
- [x] 7.4 验证搜索功能和响应式布局
- [x] 7.5 进行前端类型检查 `npx tsc --noEmit`
